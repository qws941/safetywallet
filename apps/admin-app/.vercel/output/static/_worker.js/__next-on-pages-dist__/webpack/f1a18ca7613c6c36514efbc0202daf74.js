var d={},q=(E,k,M)=>(d.__chunk_5924=(p,a,i)=>{"use strict";i.d(a,{UO:()=>o.UO,tv:()=>o.tv});var o=i(7674)},d.__chunk_433=(p,a,i)=>{"use strict";i.d(a,{Z:()=>o});let o=(0,i(617).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},d.__chunk_4634=(p,a,i)=>{"use strict";i.d(a,{S5:()=>_,Kb:()=>K,cl:()=>g});var o=i(1038),b=i(916),h=i(9020),v=i(7146),y=i(789),f=i(2117),u=i(505),O=class extends f.l{#e;#i=void 0;#t;#s;constructor(t,e){super(),this.#e=t,this.setOptions(e),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#e.defaultMutationOptions(t),(0,u.VS)(this.options,e)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,u.Ym)(e.mutationKey)!==(0,u.Ym)(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#n(t)}getCurrentResult(){return this.#i}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#r(),this.#n()}mutate(t,e){return this.#s=e,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(t)}#r(){let t=this.#t?.state??(0,v.R)();this.#i={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#n(t){y.Vr.batch(()=>{if(this.#s&&this.hasListeners()){let e=this.#i.variables,r=this.#i.context,n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#s.onSuccess?.(t.data,e,r,n)}catch(s){Promise.reject(s)}try{this.#s.onSettled?.(t.data,null,e,r,n)}catch(s){Promise.reject(s)}}else if(t?.type==="error"){try{this.#s.onError?.(t.error,e,r,n)}catch(s){Promise.reject(s)}try{this.#s.onSettled?.(void 0,t.error,e,r,n)}catch(s){Promise.reject(s)}}}this.listeners.forEach(e=>{e(this.#i)})})}},l=i(3079),S=i(6827);function _(t){return(0,o.a)({queryKey:["admin","post",t],queryFn:()=>(0,l.S)(`/posts/${t}`),enabled:!!t})}function g(){let t=(0,b.NL)();return function(e,r){let n=(0,b.NL)(void 0),[s]=h.useState(()=>new O(n,e));h.useEffect(()=>{s.setOptions(e)},[s,e]);let c=h.useSyncExternalStore(h.useCallback(m=>s.subscribe(y.Vr.batchCalls(m)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),x=h.useCallback((m,C)=>{s.mutate(m,C).catch(u.ZT)},[s]);if(c.error&&(0,u.L3)(s.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:x,mutateAsync:c.mutate}}({mutationFn:({postId:e,action:r,reason:n,note:s})=>(0,l.S)("/reviews",{method:"POST",body:JSON.stringify({postId:e,action:r,reason:n,note:s})}),onSuccess:()=>{t.invalidateQueries({queryKey:["admin","posts"]}),t.invalidateQueries({queryKey:["dashboard"]})}})}function K(t){let e=(0,S.t)(r=>r.currentSiteId);return(0,o.a)({queryKey:["admin","member",e,t],queryFn:()=>(0,l.S)(`/sites/${e}/members/${t}`),enabled:!!e&&!!t})}},d);export{q as __getNamedExports};
