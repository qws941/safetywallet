(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{9632:function(e,t,n){Promise.resolve().then(n.bind(n,1212))},1212:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var s=n(7573),r=n(7653),i=n(1695),l=n(8146),o=n(3071),c=n(6673),a=n(3989),u=n(6221),E=n(7236),f=n(2596),d=n(2898),R=n(8948),N=n(4823),O=n(3809),I=n(6438),_=n(269),b=n(5729),S=n(9147),h=n(3400),v=n(8144);let P=[{href:"/dashboard",label:"대시보드",icon:o.Z},{href:"/posts",label:"제보 관리",icon:c.Z},{href:"/members",label:"회원 관리",icon:a.Z},{href:"/points",label:"포인트 관리",icon:u.Z},{href:"/approvals",label:"승인 관리",icon:E.Z},{href:"/actions",label:"조치 현황",icon:f.Z},{href:"/announcements",label:"공지사항",icon:d.Z},{href:"/votes/candidates",label:"투표 후보 관리",icon:R.Z},{href:"/settings",label:"설정",icon:N.Z},{href:"/audit",label:"감사 로그",icon:O.Z}];function p(){let e=(0,i.usePathname)(),[t,n]=(0,r.useState)(!1),o=(0,v.t)(e=>e.logout);return(0,s.jsxs)("aside",{className:(0,S.cn)("flex flex-col bg-slate-900 text-white transition-all duration-300",t?"w-16":"w-64"),children:[(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between border-b border-slate-700 px-4",children:[!t&&(0,s.jsx)("span",{className:"text-lg font-bold",children:"안전지갑 관리자"}),(0,s.jsx)(h.zx,{variant:"ghost",size:"icon",onClick:()=>n(!t),className:"text-white hover:bg-slate-800",children:t?(0,s.jsx)(I.Z,{size:20}):(0,s.jsx)(_.Z,{size:20})})]}),(0,s.jsx)("nav",{className:"flex-1 space-y-1 p-2",children:P.map(n=>{var r;let i=null!==(r=null==e?void 0:e.startsWith(n.href))&&void 0!==r&&r,o=n.icon;return(0,s.jsxs)(l.default,{href:n.href,className:(0,S.cn)("flex items-center gap-3 rounded-lg px-3 py-2 transition-colors",i?"bg-slate-700 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"),children:[(0,s.jsx)(o,{size:20}),!t&&(0,s.jsx)("span",{children:n.label})]},n.href)})}),(0,s.jsx)("div",{className:"border-t border-slate-700 p-2",children:(0,s.jsxs)(h.zx,{variant:"ghost",className:(0,S.cn)("w-full justify-start gap-3 text-slate-300 hover:bg-slate-800 hover:text-white",t&&"justify-center"),onClick:o,children:[(0,s.jsx)(b.Z,{size:20}),!t&&(0,s.jsx)("span",{children:"로그아웃"})]})})]})}function A(e){let{children:t}=e,n=(0,i.useRouter)(),{user:l,isAdmin:o}=(0,v.t)();return((0,r.useEffect)(()=>{l&&o||n.push("/login")},[l,o,n]),l&&o)?(0,s.jsxs)("div",{className:"flex h-screen",children:[(0,s.jsx)(p,{}),(0,s.jsx)("main",{className:"flex-1 overflow-auto bg-slate-50 p-6",children:t})]}):null}},9147:function(e,t,n){"use strict";n.d(t,{cn:function(){return s.cn}});var s=n(3400)},8144:function(e,t,n){"use strict";n.d(t,{t:function(){return l}});var s=n(8321),r=n(4452),i=n(3212);let l=(0,s.U)()((0,r.tJ)((e,t)=>({user:null,tokens:null,currentSiteId:null,isAdmin:!1,login:(t,n)=>e({user:t,tokens:n,isAdmin:t.role===i.UserRole.SITE_ADMIN||t.role===i.UserRole.SUPER_ADMIN}),logout:()=>e({user:null,tokens:null,currentSiteId:null,isAdmin:!1}),setTokens:t=>e({tokens:t}),setSiteId:t=>e({currentSiteId:t})}),{name:"safetywallet-admin-auth"}))},5363:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8658:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8536:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4602:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6183:function(e,t,n){"use strict";var s=Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]},r=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(4602),t),r(n(3700),t),r(n(6668),t),r(n(5769),t),r(n(2232),t),r(n(1098),t),r(n(8658),t),r(n(8536),t)},1098:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5769:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2232:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6668:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3700:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9633:function(e,t){"use strict";var n,s,r,i,l,o,c,a,u,E,f,d,R,N,O,I,_,b,S,h;Object.defineProperty(t,"__esModule",{value:!0}),t.RejectReason=t.TaskStatus=t.ReviewAction=t.ActionStatus=t.ReviewStatus=t.Visibility=t.RiskLevel=t.Category=t.MembershipStatus=t.UserRole=void 0,(f=n||(t.UserRole=n={})).WORKER="WORKER",f.SITE_ADMIN="SITE_ADMIN",f.SUPER_ADMIN="SUPER_ADMIN",f.SYSTEM="SYSTEM",(d=s||(t.MembershipStatus=s={})).PENDING="PENDING",d.ACTIVE="ACTIVE",d.LEFT="LEFT",d.REMOVED="REMOVED",(R=r||(t.Category=r={})).HAZARD="HAZARD",R.UNSAFE_BEHAVIOR="UNSAFE_BEHAVIOR",R.INCONVENIENCE="INCONVENIENCE",R.SUGGESTION="SUGGESTION",R.BEST_PRACTICE="BEST_PRACTICE",(N=i||(t.RiskLevel=i={})).HIGH="HIGH",N.MEDIUM="MEDIUM",N.LOW="LOW",(O=l||(t.Visibility=l={})).WORKER_PUBLIC="WORKER_PUBLIC",O.ADMIN_ONLY="ADMIN_ONLY",(I=o||(t.ReviewStatus=o={})).RECEIVED="RECEIVED",I.IN_REVIEW="IN_REVIEW",I.NEED_INFO="NEED_INFO",I.APPROVED="APPROVED",I.REJECTED="REJECTED",(_=c||(t.ActionStatus=c={})).NONE="NONE",_.REQUIRED="REQUIRED",_.ASSIGNED="ASSIGNED",_.IN_PROGRESS="IN_PROGRESS",_.DONE="DONE",_.REOPENED="REOPENED",(b=a||(t.ReviewAction=a={})).APPROVE="APPROVE",b.REJECT="REJECT",b.REQUEST_MORE="REQUEST_MORE",b.MARK_URGENT="MARK_URGENT",b.ASSIGN="ASSIGN",b.CLOSE="CLOSE",(S=u||(t.TaskStatus=u={})).OPEN="OPEN",S.IN_PROGRESS="IN_PROGRESS",S.DONE="DONE",(h=E||(t.RejectReason=E={})).DUPLICATE="DUPLICATE",h.UNCLEAR_PHOTO="UNCLEAR_PHOTO",h.INSUFFICIENT="INSUFFICIENT",h.FALSE="FALSE",h.IRRELEVANT="IRRELEVANT",h.OTHER="OTHER"},3212:function(e,t,n){"use strict";var s=Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]},r=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(9633),t),r(n(5363),t),r(n(6183),t)}},function(e){e.O(0,[995,492,400,293,456,744],function(){return e(e.s=9632)}),_N_E=e.O()}]);